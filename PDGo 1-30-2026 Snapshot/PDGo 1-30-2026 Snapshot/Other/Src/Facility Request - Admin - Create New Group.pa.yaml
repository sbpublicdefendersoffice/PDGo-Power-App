# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  Facility Request - Admin - Create New Group:
    Properties:
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
    Children:
      - Container23:
          Control: GroupContainer@1.4.0
          Variant: AutoLayout
          Properties:
            Height: =Parent.Height
            LayoutDirection: =LayoutDirection.Vertical
            Width: =Parent.Width
          Children:
            - Container9_4:
                Control: GroupContainer@1.4.0
                Variant: AutoLayout
                Properties:
                  AlignInContainer: =AlignInContainer.SetByContainer
                  FillPortions: =0
                  Height: =92
                  LayoutDirection: =LayoutDirection.Horizontal
                  LayoutOverflowY: =LayoutOverflow.Scroll
                  Width: =Parent.Width
                Children:
                  - Container10_2:
                      Control: GroupContainer@1.4.0
                      Variant: ManualLayout
                      Properties:
                        Fill: =RGBA(0, 18, 107, 1)
                        FillPortions: =0
                        Height: =Parent.Height
                        LayoutMinHeight: =Parent.Height
                        Width: =Parent.Width
                      Children:
                        - ManageRequestCategory-BackArrow_3:
                            Control: Classic/Icon@2.5.0
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Color: =RGBA(255, 255, 255, 1)
                              Height: =40
                              Icon: =Icon.ArrowLeft
                              OnSelect: |-
                                =Back(ScreenTransition.UnCoverRight);
                                ResetForm('CreateNewGroup-Form')
                              Width: =40
                              X: =30
                              Y: =Parent.Height / 2 - 20
                        - ManageRequestCategory-Label_3:
                            Control: Label@2.5.1
                            Properties:
                              Align: =Align.Center
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Color: =RGBA(255, 255, 255, 1)
                              Font: =Font.'Open Sans'
                              Size: =26
                              Text: ="Create Request Category"
                              Width: =411
                              X: =(Parent.Width - Self.Width)/2
                              Y: =(Parent.Height - Self.Height)/2
            - Container29:
                Control: GroupContainer@1.4.0
                Variant: AutoLayout
                Properties:
                  LayoutDirection: =LayoutDirection.Vertical
                Children:
                  - Container37:
                      Control: GroupContainer@1.4.0
                      Variant: ManualLayout
                      Children:
                        - ManageRequestCategory-RequestorLabel_9:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Semibold
                              Text: ="Requestor"
                              Width: =196
                              X: |
                                =30
                              Y: =30
                        - ManageRequestCategory-RequestorText_8:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              Text: =_SelectedRequest.'Requester Name'
                              Width: =367
                              X: =257
                              Y: |
                                =30
                        - ManageRequestCategory-RequestorLabel_8:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Semibold
                              Text: ="Request ID"
                              Width: =213
                              X: |
                                =30
                              Y: =115
                        - ManageRequestCategory-RequestorText_7:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              Text: =_SelectedRequest.ID
                              Width: =367
                              X: =257
                              Y: =115
                        - CreateNewGroup-Form:
                            Control: Form@2.4.4
                            Variant: Classic
                            Layout: Vertical
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              DataSource: ='Facility Request'
                              DefaultMode: =FormMode.New
                              Height: =348
                              Width: =Parent.Width
                              Y: =174
                            Children:
                              - CreateNewGroup-RequestTitleDataCard_3:
                                  Control: TypedDataCard@1.0.7
                                  Variant: ClassicTextualEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="Title"
                                    Default: =ThisItem.'Requester Name'
                                    DisplayMode: =Parent.DisplayMode.View
                                    DisplayName: =DataSourceInfo([@'Facility Request'],DataSourceInfo.DisplayName,'Requester Name')
                                    Height: =101
                                    MaxLength: =DataSourceInfo([@'Facility Request'], DataSourceInfo.MaxLength, 'Requester Name')
                                    Required: =false
                                    Update: =DataCardValue1_4.Text
                                    X: =0
                                    Y: =0
                                  Children:
                                    - DataCardKey1_4:
                                        Control: Label@2.5.1
                                        MetadataKey: FieldName
                                        Properties:
                                          AutoHeight: =true
                                          BorderColor: =RGBA(0, 0, 0, 1)
                                          Font: =Font.'Open Sans'
                                          FontWeight: =FontWeight.Semibold
                                          Height: =48
                                          Text: ="Request Title"
                                          Width: =Parent.Width - 60
                                          Wrap: =false
                                          X: |
                                            =30
                                          Y: =30
                                    - DataCardValue1_4:
                                        Control: Classic/TextInput@2.3.2
                                        MetadataKey: FieldValue
                                        Properties:
                                          BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                          Default: =_SelectedRequest.'Request Title'
                                          DelayOutput: =true
                                          DisplayMode: =Parent.DisplayMode
                                          Font: =Font.'Open Sans'
                                          Height: =48
                                          HoverBorderColor: =RGBA(0, 18, 107, 1)
                                          HoverFill: =RGBA(186, 202, 226, 1)
                                          MaxLength: =Parent.MaxLength
                                          PaddingLeft: =5
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                          Tooltip: =Parent.DisplayName
                                          Width: =356
                                          X: =260
                                          Y: =29
                                    - ErrorMessage1_4:
                                        Control: Label@2.5.1
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          AutoHeight: =true
                                          BorderColor: =RGBA(0, 0, 0, 1)
                                          Color: =RGBA(168, 0, 0, 1)
                                          Font: =Font.'Open Sans'
                                          FontWeight: =FontWeight.Semibold
                                          Height: =10
                                          Live: =Live.Assertive
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Size: =24
                                          Text: =Parent.Error
                                          Visible: =Parent.DisplayMode=DisplayMode.Edit
                                          Width: =Parent.Width - 60
                                          X: =30
                                          Y: =DataCardValue1_4.Y + DataCardValue1_4.Height
                                    - StarVisible1_4:
                                        Control: Label@2.5.1
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: =Align.Center
                                          BorderColor: =RGBA(0, 0, 0, 1)
                                          Color: =RGBA(0, 18, 107, 1)
                                          Font: =Font.'Open Sans'
                                          Height: =DataCardKey1_4.Height
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Wrap: =false
                                          Y: =DataCardKey1_4.Y
                              - CreateNewGroup-CategoryTitleDataCard_4:
                                  Control: TypedDataCard@1.0.7
                                  Variant: ClassicTextualEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="Title0"
                                    Default: =ThisItem.'Requester Name'
                                    DisplayName: ="Title"
                                    Height: =115
                                    MaxLength: =20
                                    Required: =false
                                    Update: ='CategoryTitleDataCard-Value_3'.Text
                                    Width: =Parent.Width
                                    X: =0
                                    Y: =1
                                  Children:
                                    - DataCardKey5_5:
                                        Control: Label@2.5.1
                                        MetadataKey: FieldName
                                        Properties:
                                          BorderColor: =RGBA(0, 0, 0, 1)
                                          Font: =Font.'Open Sans'
                                          FontWeight: =FontWeight.Semibold
                                          Height: =60
                                          Text: ="New Category Title"
                                          Width: =366
                                          Wrap: =false
                                          X: =30
                                          Y: =6
                                    - CategoryTitleDataCard-Value_3:
                                        Control: Classic/TextInput@2.3.2
                                        MetadataKey: FieldValue
                                        Properties:
                                          BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                          Default: =Parent.Default
                                          DelayOutput: =true
                                          DisplayMode: =Parent.DisplayMode
                                          Font: =Font.'Open Sans'
                                          Height: =64
                                          HoverBorderColor: =RGBA(0, 18, 107, 1)
                                          HoverFill: =RGBA(186, 202, 226, 1)
                                          MaxLength: =Parent.MaxLength
                                          PaddingLeft: =5
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                          Tooltip: =Parent.DisplayName
                                          Width: =Parent.Width - 80
                                          X: =(Parent.Width - Self.Width) / 2
                                          Y: =71
                                    - ErrorMessage5_4:
                                        Control: Label@2.5.1
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          AutoHeight: =true
                                          BorderColor: =RGBA(0, 0, 0, 1)
                                          Color: =RGBA(168, 0, 0, 1)
                                          Font: =Font.'Open Sans'
                                          FontWeight: =FontWeight.Semibold
                                          Height: =10
                                          Live: =Live.Assertive
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Size: =24
                                          Text: =Parent.Error
                                          Visible: =Parent.DisplayMode=DisplayMode.Edit
                                          Width: =Parent.Width - 60
                                          X: =30
                                          Y: ='CategoryTitleDataCard-Value_3'.Y + 'CategoryTitleDataCard-Value_3'.Height
                                    - StarVisible5_5:
                                        Control: Label@2.5.1
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: =Align.Center
                                          BorderColor: =RGBA(0, 0, 0, 1)
                                          Color: =RGBA(0, 18, 107, 1)
                                          Font: =Font.'Open Sans'
                                          Height: =DataCardKey5_5.Height
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Wrap: =false
                                          Y: =DataCardKey5_5.Y
                              - Date_DataCard4_5:
                                  Control: TypedDataCard@1.0.7
                                  Variant: ClassicTextualView
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="Date"
                                    Default: =Now()
                                    DisplayName: =DataSourceInfo([@'Facility Request'],DataSourceInfo.DisplayName,Date)
                                    Required: =false
                                    Visible: =false
                                    X: =0
                                    Y: =2
                                  Children:
                                    - DataCardKey8_5:
                                        Control: Label@2.5.1
                                        MetadataKey: FieldName
                                        Properties:
                                          AutoHeight: =true
                                          BorderColor: =RGBA(0, 0, 0, 1)
                                          Color: =RGBA(0, 18, 107, 1)
                                          Font: =Font.'Open Sans'
                                          Height: =48
                                          Text: =Parent.DisplayName
                                          Width: =Parent.Width - 60
                                          Wrap: =false
                                          X: =30
                                          Y: =10
                                    - DataCardValue8_5:
                                        Control: Label@2.5.1
                                        MetadataKey: FieldValue
                                        Properties:
                                          AutoHeight: =true
                                          BorderColor: =RGBA(0, 18, 107, 1)
                                          DisplayMode: =Parent.DisplayMode
                                          Font: =Font.'Open Sans'
                                          Height: =40
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: =Parent.Default
                                          Width: =Parent.Width - 60
                                          X: =30
                                          Y: =DataCardKey8_5.Y + DataCardKey8_5.Height + 5
                        - Button4_5:
                            Control: Classic/Button@2.2.0
                            Properties:
                              BorderColor: =ColorFade(Self.Fill, -15%)
                              Color: =RGBA(255, 255, 255, 1)
                              DisabledBorderColor: =RGBA(166, 166, 166, 1)
                              Fill: =RGBA(56, 96, 178, 1)
                              Font: =Font.'Open Sans'
                              Height: =71
                              HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                              HoverColor: =RGBA(255, 255, 255, 1)
                              HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                              OnSelect: "=Set(\n    _CreateNewGroupErrorCheck,\n    true\n);\nIf(\n    IsBlank('CategoryTitleDataCard-Value_3'.Text),\n    DisplayMode.Disabled,\n    Patch(\n        'Facility Request Categories',\n        {Title: 'CategoryTitleDataCard-Value_3'.Text}\n    );\n    Patch(\n        'Facility Request',\n        LookUp('Facility Request', ID = _SelectedRequest.ID),\n        {\n            Category: 'CategoryTitleDataCard-Value_3'.Text\n                //Id: LookUp('Facility Request Categories', Title = 'CategoryTitleDataCard-Value_3'.Text, ID),\n                //Value: 'CategoryTitleDataCard-Value_3'.Text\n                \n        }\n    );\n    Navigate('Facility Request - Submitted Successfully');\n    ResetForm('CreateNewGroup-Form')\n)"
                              PressedBorderColor: =Self.Fill
                              PressedColor: =Self.Fill
                              PressedFill: =Self.Color
                              Text: ="Create & Assign"
                              Width: =589
                              X: =(Parent.Width - Self.Width) / 2
                              Y: =Parent.Height - 100
                        - Label18_6:
                            Control: Label@2.5.1
                            Properties:
                              Align: =Align.Center
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Color: =RGBA(184, 0, 0, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Semibold
                              Height: =87
                              Text: |-
                                =If(
                                  _CreateNewGroupErrorCheck,
                                  If(
                                    IsBlank('CategoryTitleDataCard-Value_2'.Text),
                                    "Please provide a Category Title.",
                                    CountRows(Filter('Facility Request Categories', Title = 'CategoryTitleDataCard-Value_2'.Text)) > 0,
                                    "Category Title already exists."
                                  ),
                                  ""
                                )
                              Width: =640
                              Y: =957
