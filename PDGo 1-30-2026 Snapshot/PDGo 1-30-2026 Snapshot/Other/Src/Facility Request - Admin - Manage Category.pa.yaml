# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  Facility Request - Admin - Manage Category:
    Properties:
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
    Children:
      - Container18:
          Control: GroupContainer@1.4.0
          Variant: AutoLayout
          Properties:
            Height: =Parent.Height
            LayoutDirection: =LayoutDirection.Vertical
            Width: =Parent.Width
          Children:
            - Container19:
                Control: GroupContainer@1.4.0
                Variant: ManualLayout
                Properties:
                  Fill: =RGBA(0, 18, 107, 1)
                  FillPortions: =0
                  Height: =92
                Children:
                  - ManageRequest-BackArrow_4:
                      Control: Classic/Icon@2.5.0
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Color: =RGBA(255, 255, 255, 1)
                        Height: =40
                        Icon: =Icon.ArrowLeft
                        OnSelect: =Back(ScreenTransition.UnCoverRight)
                        Width: =40
                        X: =30
                        Y: =Parent.Height / 2 - 20
                  - ManageRequestLabel_4:
                      Control: Label@2.5.1
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Color: =RGBA(255, 255, 255, 1)
                        Font: =Font.'Open Sans'
                        Size: =26
                        Text: ="Manage Category"
                        Width: =309
                        X: =(Parent.Width - Self.Width)/2
                        Y: =(Parent.Height - Self.Height)/2
            - Container20_1:
                Control: GroupContainer@1.4.0
                Variant: ManualLayout
                Properties:
                  DropShadow: =DropShadow.None
                  FillPortions: =0
                  Height: =275
                Children:
                  - ManageRequest-TitleLabel_3:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Text: ="Category"
                        Width: =164
                        X: =30
                        Y: =29
                  - ManageRequest-TitleText_3:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        Text: =_SelectedCategory.Title
                        Width: =358
                        X: =240
                        Y: =29
                  - ManageRequest-DateCreatedLabel_3:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Text: ="Date Created"
                        Width: =217
                        X: =30
                        Y: =(Parent.Height - Self.Height)/2  + 7
                  - ManageRequest-DateCreatedText_3:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        Text: =_SelectedCategory.Created
                        Width: =358
                        X: =240
                        Y: =(Parent.Height - Self.Height)/2  + 7
                  - ManageRequest-PriorityLabel_3:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Text: ="# Of Requests"
                        Width: =217
                        X: =30
                        Y: =Parent.Height - Self.Height - 15
                  - ManageRequest-PriorityText_3:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        Text: =CountRows(Filter('Facility Request', Category = _SelectedCategory.Title))
                        Width: =398
                        X: =240
                        Y: =Parent.Height - Self.Height - 15
            - Container21:
                Control: GroupContainer@1.4.0
                Variant: ManualLayout
                Properties:
                  DropShadow: =DropShadow.None
                  Height: =650
                  Width: =Parent.Width
                Children:
                  - Gallery2:
                      Control: Gallery@2.15.0
                      Variant: BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Height: =Parent.Height
                        Items: =Filter('Facility Request', Category = _SelectedCategory.Title)
                        TemplateSize: =172
                        Width: =Parent.Width
                        X: =
                      Children:
                        - RequestListItem-Title_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 0, 0, 1)
                              Color: =RGBA(50, 49, 48, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                              Height: =56
                              OnSelect: =Select(Parent)
                              PaddingBottom: =0
                              PaddingLeft: =0
                              PaddingRight: =0
                              PaddingTop: =0
                              Size: =18
                              Text: |-
                                =Concatenate("Title: ", ThisItem.'Request Title')
                              Width: =394
                              X: =168
                              Y: =92
                        - RequestListItem-DateYear_2:
                            Control: Label@2.5.1
                            Properties:
                              Align: =Align.Center
                              BorderColor: =RGBA(0, 0, 0, 1)
                              Color: =RGBA(50, 49, 48, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                              Height: =42
                              OnSelect: =Select(Parent)
                              PaddingBottom: =0
                              PaddingLeft: =0
                              PaddingRight: =0
                              PaddingTop: =0
                              Size: =18
                              Text: =Text(DateTimeValue(ThisItem.Date), "yyyy")
                              Width: =80
                              X: =44
                              Y: =99
                        - RequestListItem-DateMonth_2:
                            Control: Label@2.5.1
                            Properties:
                              Align: =Align.Center
                              BorderColor: =RGBA(0, 0, 0, 1)
                              Color: =RGBA(50, 49, 48, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                              Height: =42
                              OnSelect: =Select(Parent)
                              PaddingBottom: =0
                              PaddingLeft: =0
                              PaddingRight: =0
                              PaddingTop: =0
                              Size: =22
                              Text: =Text(DateTimeValue(ThisItem.Date), "mmm")
                              Width: =80
                              X: =44
                              Y: =69
                        - RequestListItem-DateDayNum_2:
                            Control: Label@2.5.1
                            Properties:
                              Align: =Align.Center
                              BorderColor: =RGBA(0, 0, 0, 1)
                              Color: =RGBA(50, 49, 48, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                              Height: =47
                              OnSelect: =Select(Parent)
                              PaddingBottom: =0
                              PaddingLeft: =0
                              PaddingRight: =0
                              PaddingTop: =0
                              Size: =18
                              Text: =Text(DateTimeValue(ThisItem.Date), "dd")
                              Width: =52
                              X: =58
                              Y: =39
                        - RequestListItem-ID_2:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 0, 0, 1)
                              Color: =RGBA(130, 141, 158, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                              Height: =50
                              OnSelect: =Select(Parent)
                              PaddingBottom: =0
                              PaddingLeft: =0
                              PaddingRight: =0
                              PaddingTop: =0
                              Size: =18
                              Text: |-
                                =Concatenate("ID: ", ThisItem.ID)
                              Width: =114
                              X: =168
                              Y: =22
                        - RequestListItem-RequesterName_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 0, 0, 1)
                              Color: =RGBA(50, 49, 48, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                              Height: =50
                              OnSelect: =Select(Parent)
                              PaddingBottom: =0
                              PaddingLeft: =0
                              PaddingRight: =0
                              PaddingTop: =0
                              Size: =20
                              Text: =ThisItem.'Requester Name'
                              Width: =291
                              X: =168
                              Y: =61
                        - RequestListItem-HoverEffect_3:
                            Control: Rectangle@2.3.0
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              BorderThickness: =1
                              Fill: =RGBA(0, 0, 0, 0)
                              Height: =Parent.TemplateHeight - 30
                              HoverFill: =RGBA(0, 0, 0, 0.1)
                              OnSelect: |-
                                =Set(_SelectedRequest, ThisItem);
                                Set(_VisitedManageRequestCategory, false);
                                Navigate('Facility Request - Admin - Manage Request', ScreenTransition.Cover)
                              Width: |-
                                =Parent.Width -45
                                //582
                              X: =(Parent.TemplateWidth - Self.Width)/2
                              Y: =(Parent.TemplateHeight - Self.Height)/2
                        - Icon5_1:
                            Control: Classic/Icon@2.5.0
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Color: =RGBA(0, 18, 107, 1)
                              Height: =32
                              Icon: =Icon.NextArrow
                              OnSelect: =Select(Parent)
                              Width: =32
                              X: =Parent.TemplateWidth - Self.Width - 55
                              Y: =(Parent.TemplateHeight - Self.Height)/2
            - Container27:
                Control: GroupContainer@1.4.0
                Variant: AutoLayout
                Properties:
                  DropShadow: =DropShadow.None
                  FillPortions: =0
                  Height: =150
                  LayoutAlignItems: =LayoutAlignItems.Center
                  LayoutDirection: =LayoutDirection.Horizontal
                  LayoutGap: =30
                  LayoutJustifyContent: =LayoutJustifyContent.Center
                Children:
                  - ManageRequest-CloseReqestButton_2:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =ColorFade(Self.Fill, -15%)
                        Color: =RGBA(255, 255, 255, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        Fill: =RGBA(184, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        OnSelect: |-
                          =Remove('Facility Request Categories', LookUp('Facility Request Categories', ID = _SelectedCategory.ID));
                          ForAll(Filter('Facility Request', Category = _SelectedCategory.Title), Category = "");
                          Back(ScreenTransition.UnCoverRight);
                        PressedBorderColor: =Self.Fill
                        PressedColor: =Self.Fill
                        PressedFill: =Self.Color
                        Text: ="Delete Category"
                        Visible: =If(_SelectedRequest.Status.Value = "Opened" Or _SelectedRequest.Status.Value = "In Progress", true, false)
                        X: =310
                        Y: =1035
                  - ManageRequest-ReopenButton_2:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =ColorFade(Self.Fill, -15%)
                        Color: =RGBA(255, 255, 255, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        Fill: =RGBA(56, 96, 178, 1)
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        OnSelect: |-
                          =Patch('Facility Request', LookUp('Facility Request', ID = _SelectedRequest.ID), {Status: {Value:"In Progress"}});
                          Navigate('Facility Request - Admin - View Requests', ScreenTransition.UnCoverRight);
                        PressedBorderColor: =Self.Fill
                        PressedColor: =Self.Fill
                        PressedFill: =Self.Color
                        Text: ="Reopen Request"
                        Visible: =If(_SelectedRequest.Status.Value = "Closed", true, false)
                        X: =295
                        Y: =1035
                  - ManageRequest-ApproveButton_2:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =ColorFade(Self.Fill, -15%)
                        Color: =RGBA(255, 255, 255, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        Fill: =RGBA(56, 96, 178, 1)
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        OnSelect: =Navigate('Facility Request - Admin - Edit Category', ScreenTransition.UnCoverRight);
                        PressedBorderColor: =Self.Fill
                        PressedColor: =Self.Fill
                        PressedFill: =Self.Color
                        Text: ="Edit Category"
                        Visible: =If(_SelectedRequest.Status.Value = "Opened", true, false)
                        X: =25
                        Y: =1035
